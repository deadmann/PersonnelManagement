/*C12*/SET SCHEMA PUBLIC
alter table person drop constraint FK4i8om42npv2vi0wm6xut2djxr
alter table wage drop constraint FK43tv7i7rudh7onfp7qj5x4l0a
alter table work drop constraint FKftn0borxbgjnbd28ohuf9nbed
alter table work drop constraint FKmwnxlplhsq3j4kyipvbku7mwi
drop table building if exists
drop table person if exists
drop table position if exists
drop table wage if exists
drop table work if exists
create table building (id integer generated by default as identity (start with 1), name varchar(50) not null, primary key (id))
create table person (id integer generated by default as identity (start with 1), firstname varchar(50) not null, lastname varchar(50), position_id integer, primary key (id))
create table position (id integer generated by default as identity (start with 1), title varchar(50) not null, primary key (id))
create table wage (id integer generated by default as identity (start with 1), price double, start_date timestamp not null, position_id integer, primary key (id))
create table work (id bigint generated by default as identity (start with 1), date timestamp, work_per_day integer not null, building_id integer, person_id integer, primary key (id))
alter table person add constraint FK4i8om42npv2vi0wm6xut2djxr foreign key (position_id) references position
alter table wage add constraint FK43tv7i7rudh7onfp7qj5x4l0a foreign key (position_id) references position
alter table work add constraint FKftn0borxbgjnbd28ohuf9nbed foreign key (building_id) references building
alter table work add constraint FKmwnxlplhsq3j4kyipvbku7mwi foreign key (person_id) references person
INSERT INTO BUILDING VALUES(1,'Azarbaijani')
INSERT INTO BUILDING VALUES(2,'Dadgostari')
COMMIT
INSERT INTO POSITION VALUES(1,'Mohandes')
INSERT INTO POSITION VALUES(2,'Kargar')
COMMIT
INSERT INTO WAGE VALUES(1,1000.0E0,'2016-11-21 00:00:00.000000',2)
INSERT INTO WAGE VALUES(2,1200.0E0,'2016-11-21 00:00:00.000000',1)
COMMIT
INSERT INTO PERSON VALUES(1,'Moradi','Ali',1)
INSERT INTO PERSON VALUES(2,'Aghai',NULL,2)
COMMIT
